


def mergePredictions(listOfFiles):

    averageRatio = 1/len(listOfFiles)
    lookup = {}

    # Go through all of the files and average the scores. Store in lookup
    for path in listOfFiles:
        with open(path, 'r') as file:
            #Read header
            file.readline()

            for line in file:
                splitLine = line.split()
                id = splitLine[0]
                score = splitLine[1]

                if id not in lookup:
                    lookup[id] = 0

                lookup[id] = lookup[id] + (averageRatio * score)

    # Write lookup to file
    with open("averageScores.csv", 'w') as file:
        #Write header
        file.write('MachineIdentifier,HasDetections\n')
        for id, score in enumerate(lookup):
            file.write(id)
            file.write(',')
            file.write(score)
            file.write('\n')


if __name__ == '__main__':
    mergePredictions(['',''])